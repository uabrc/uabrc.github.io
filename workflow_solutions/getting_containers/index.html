
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.6">
    
    
      
        <title>Software Containers - Research Computing Documentation</title>
      
    
    

      <link rel="stylesheet" href="../../assets/stylesheets/main.cd566b2a.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
<link rel="stylesheet" href="../../css/lightgallery.min.css" />

    

<script src="../../js/lightgallery.min.js"></script>

    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#software-containers" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Research Computing Documentation" class="md-header__button md-logo" aria-label="Research Computing Documentation" data-md-component="logo">
      
  <img src="../../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Research Computing Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Software Containers
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/uabrc/uabrc.github.io/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Research Computing Documentation" class="md-nav__button md-logo" aria-label="Research Computing Documentation" data-md-component="logo">
      
  <img src="../../images/logo.png" alt="logo">

    </a>
    Research Computing Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/uabrc/uabrc.github.io/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2">
          Account Management
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Account Management" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Account Management
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../account_management/cheaha_account/" class="md-nav__link">
        Cheaha Account
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../account_management/xias/">External Collaborator Accounts (XIAS)</a>
          
            <label for="__nav_2_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="External Collaborator Accounts (XIAS)" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          External Collaborator Accounts (XIAS)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../account_management/xias/pi_site_management/" class="md-nav__link">
        For PIs - (1) Managing Projects & Sites
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../account_management/xias/pi_guest_management/" class="md-nav__link">
        For PIs - (2) Managing Guests
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../account_management/xias/guest_instructions/" class="md-nav__link">
        For Guests - Account Creation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../account_management/gitlab_account/" class="md-nav__link">
        Gitlab Account
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3">
          Data Management
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Data Management" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Data Management
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data_management/storage/" class="md-nav__link">
        Cheaha Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../data_management/lts/">Long Term Storage</a>
          
            <label for="__nav_3_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Long Term Storage" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Long Term Storage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data_management/lts/interfaces/" class="md-nav__link">
        Interfacing with LTS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data_management/lts/policies/" class="md-nav__link">
        Bucket Permissions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data_management/lts/lts_cores/" class="md-nav__link">
        UAB Core Accounts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data_management/lts/lts_faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_3">
          Transfer
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Transfer" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Transfer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data_management/transfer/globus/" class="md-nav__link">
        Globus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data_management/transfer/rclone/" class="md-nav__link">
        RClone
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data_management/transfer/filezilla/" class="md-nav__link">
        FileZilla
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data_management/code_storage/" class="md-nav__link">
        Code Storage
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4">
          Workflow Solutions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Workflow Solutions" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Workflow Solutions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../shell/" class="md-nav__link">
        Using the Shell
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../using_anaconda/" class="md-nav__link">
        Using Anaconda
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../using_workflow_managers/" class="md-nav__link">
        Using Workflow Managers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../git/" class="md-nav__link">
        Using Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../r_environments/" class="md-nav__link">
        R Projects and Environments
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Software Containers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Software Containers
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fantastic-containers-and-where-to-find-them" class="md-nav__link">
    Fantastic Containers and Where to Find Them
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#containers-on-cheaha" class="md-nav__link">
    Containers on Cheaha
  </a>
  
    <nav class="md-nav" aria-label="Containers on Cheaha">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pull-singularity-images" class="md-nav__link">
    Pull Singularity Images
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-singularity-images" class="md-nav__link">
    Running Singularity Images
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#singularity-paths" class="md-nav__link">
    Singularity Paths
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-containers-on-uab-rc-cloud-cloudrcuabedu" class="md-nav__link">
    Using Containers on UAB RC Cloud (cloud.rc.uab.edu)
  </a>
  
    <nav class="md-nav" aria-label="Using Containers on UAB RC Cloud (cloud.rc.uab.edu)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#docker-installation-on-uab-rc-cloud" class="md-nav__link">
    Docker Installation on UAB RC Cloud
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-a-docker-container-from-dockerhub" class="md-nav__link">
    Using a Docker Container from DockerHub
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-your-own-docker-container" class="md-nav__link">
    Create Your Own Docker Container
  </a>
  
    <nav class="md-nav" aria-label="Create Your Own Docker Container">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-dockerfile-that-has-miniconda-installed" class="md-nav__link">
    Create a Dockerfile that has Miniconda Installed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-the-built-miniconda-docker-container-interactively" class="md-nav__link">
    Running the Built Miniconda Docker Container Interactively
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mounting-data-onto-a-container" class="md-nav__link">
    Mounting Data Onto a Container
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sharing-containers-using-uab-gitlab-container-registry" class="md-nav__link">
    Sharing Containers Using UAB GitLab Container Registry
  </a>
  
    <nav class="md-nav" aria-label="Sharing Containers Using UAB GitLab Container Registry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#push-alpine-container-from-your-system-to-uab-gitlab-container-registry" class="md-nav__link">
    Push Alpine Container from your System to UAB GitLab Container Registry
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../git_collaboration/" class="md-nav__link">
        Software Collaboration with GitHub and GitLab
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5">
          Cheaha Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cheaha Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Cheaha Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cheaha/getting_started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cheaha/hardware/" class="md-nav__link">
        Hardware
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_3">
          Software
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Software" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          Software
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cheaha/software/modules/" class="md-nav__link">
        Preinstalled Modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cheaha/software/software/" class="md-nav__link">
        Self-Installed Software
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_4">
          Open OnDemand
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Open OnDemand" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Open OnDemand
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cheaha/open_ondemand/ood_main/" class="md-nav__link">
        Homepage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cheaha/open_ondemand/ood_files/" class="md-nav__link">
        File Browser
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cheaha/open_ondemand/ood_interactive/" class="md-nav__link">
        Interactive Apps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cheaha/open_ondemand/ood_jobs/" class="md-nav__link">
        Job Composer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_5" type="checkbox" id="__nav_5_5" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_5">
          SLURM
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="SLURM" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_5">
          <span class="md-nav__icon md-icon"></span>
          SLURM
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cheaha/slurm/introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cheaha/slurm/submitting_jobs/" class="md-nav__link">
        Submitting Jobs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cheaha/slurm/practical_sbatch/" class="md-nav__link">
        Practical Batch Array Jobs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cheaha/slurm/job_management/" class="md-nav__link">
        Managing Jobs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cheaha/slurm/gpu/" class="md-nav__link">
        GPUs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cheaha/job_efficiency/" class="md-nav__link">
        Job Efficiency
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../uab_cloud/">UAB Cloud (cloud.rc) Guide</a>
          
            <label for="__nav_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="UAB Cloud (cloud.rc) Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          UAB Cloud (cloud.rc) Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_2" type="checkbox" id="__nav_6_2" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../uab_cloud/tutorial/">Tutorial</a>
          
            <label for="__nav_6_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Tutorial" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          Tutorial
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../uab_cloud/tutorial/networks/" class="md-nav__link">
        (1) Networks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../uab_cloud/tutorial/security/" class="md-nav__link">
        (2) Security Policies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../uab_cloud/tutorial/instances/" class="md-nav__link">
        (3) Instances
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../uab_cloud/tutorial/volumes/" class="md-nav__link">
        (4) Volumes (optional)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../uab_cloud/remote_access/" class="md-nav__link">
        Remote Access
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../uab_cloud/installing_software/" class="md-nav__link">
        Installing Software
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../uab_cloud/snapshots/" class="md-nav__link">
        Snapshots and Images
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7">
          UAB Kubernetes Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="UAB Kubernetes Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          UAB Kubernetes Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../kubernetes/startup/" class="md-nav__link">
        Startup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../national_ci/">National Research Computing Cyberinfrastructure</a>
          
            <label for="__nav_8">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="National Research Computing Cyberinfrastructure" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          National Research Computing Cyberinfrastructure
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../national_ci/osg/" class="md-nav__link">
        The Open Science Grid
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../national_ci/nsf_access/" class="md-nav__link">
        NSF Cyberinfrastructure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../national_ci/nih/" class="md-nav__link">
        NIH Cyberinfrastructure
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_9">
          Grants & Contracts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Grants & Contracts" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Grants & Contracts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../grants/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../grants/facilities/" class="md-nav__link">
        Facilities and Plan
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../grants/budgets/" class="md-nav__link">
        Budgeting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../grants/publications/" class="md-nav__link">
        Descriptions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_10">
          Outreach & Training
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Outreach & Training" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Outreach & Training
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../education/case_studies/" class="md-nav__link">
        Case Studies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../education/research_computing_days/" class="md-nav__link">
        Research Computing Days
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../education/courses/" class="md-nav__link">
        Offered Courses
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../education/training_resources/" class="md-nav__link">
        Training Resources
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../policies/" class="md-nav__link">
        Policies
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/reporting_errors/" class="md-nav__link">
        Reporting Documentation Errors
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/contributor_guide/" class="md-nav__link">
        Contributing Content
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14" type="checkbox" id="__nav_14" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_14">
          Help
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Help" data-md-level="1">
        <label class="md-nav__title" for="__nav_14">
          <span class="md-nav__icon md-icon"></span>
          Help
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../help/support/" class="md-nav__link">
        Support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../help/faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fantastic-containers-and-where-to-find-them" class="md-nav__link">
    Fantastic Containers and Where to Find Them
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#containers-on-cheaha" class="md-nav__link">
    Containers on Cheaha
  </a>
  
    <nav class="md-nav" aria-label="Containers on Cheaha">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pull-singularity-images" class="md-nav__link">
    Pull Singularity Images
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-singularity-images" class="md-nav__link">
    Running Singularity Images
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#singularity-paths" class="md-nav__link">
    Singularity Paths
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-containers-on-uab-rc-cloud-cloudrcuabedu" class="md-nav__link">
    Using Containers on UAB RC Cloud (cloud.rc.uab.edu)
  </a>
  
    <nav class="md-nav" aria-label="Using Containers on UAB RC Cloud (cloud.rc.uab.edu)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#docker-installation-on-uab-rc-cloud" class="md-nav__link">
    Docker Installation on UAB RC Cloud
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-a-docker-container-from-dockerhub" class="md-nav__link">
    Using a Docker Container from DockerHub
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-your-own-docker-container" class="md-nav__link">
    Create Your Own Docker Container
  </a>
  
    <nav class="md-nav" aria-label="Create Your Own Docker Container">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-a-dockerfile-that-has-miniconda-installed" class="md-nav__link">
    Create a Dockerfile that has Miniconda Installed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-the-built-miniconda-docker-container-interactively" class="md-nav__link">
    Running the Built Miniconda Docker Container Interactively
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mounting-data-onto-a-container" class="md-nav__link">
    Mounting Data Onto a Container
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sharing-containers-using-uab-gitlab-container-registry" class="md-nav__link">
    Sharing Containers Using UAB GitLab Container Registry
  </a>
  
    <nav class="md-nav" aria-label="Sharing Containers Using UAB GitLab Container Registry">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#push-alpine-container-from-your-system-to-uab-gitlab-container-registry" class="md-nav__link">
    Push Alpine Container from your System to UAB GitLab Container Registry
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/uabrc/uabrc.github.io/edit/main/docs/workflow_solutions/getting_containers.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>


<h1 id="software-containers">Software Containers<a class="headerlink" href="#software-containers" title="Permanent link">&para;</a></h1>
<p>Containers help to manage software installations and all their dependencies in a single large image. These containers are a self-contained operating system along with any software the container creator added. Containers avoid software conflicts due to versioning as well as OS incompatibility and can be run on most, if not all, operating systems.</p>
<p>The most common container engine is called Docker. Docker is an open-source platform for building, deploying, running, updating, and managing containers and has distributions for Linux, Windows, and Mac. Singularity is another common container engine specialized for use on HPC systems such as Cheaha where Docker cannot be used.</p>
<h2 id="fantastic-containers-and-where-to-find-them">Fantastic Containers and Where to Find Them<a class="headerlink" href="#fantastic-containers-and-where-to-find-them" title="Permanent link">&para;</a></h2>
<p>Docker containers are available in <a href="https://hub.docker.com/">https://hub.docker.com/</a>. This docker hub repository allows to share containers and use pre-existing docker images.</p>
<p><div class="lightgallery"><a data-sub-html="Containers docker hub website." href="../images/containers_docker_hub_website.png"><img alt="Containers docker hub website." src="../images/containers_docker_hub_website.png" /></a></div></p>
<p>It is often a good idea to search the Github repo for an application or pipeline to see if a container has already been provided by the authors.</p>
<h2 id="containers-on-cheaha">Containers on Cheaha<a class="headerlink" href="#containers-on-cheaha" title="Permanent link">&para;</a></h2>
<p>Using containers on Cheaha bypasses the need to message support to install necessary software. Containers can be downloaded by any user into their personal space and used immediately without admin permission. as mentioned above, you will need to use Singularity containers on Cheaha. You can find all of the Singularity modules using the following command:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>module spider Singularity
</code></pre></div>
<p>It's highly recommended to only use Singularity versions 3+.</p>
<h3 id="pull-singularity-images">Pull Singularity Images<a class="headerlink" href="#pull-singularity-images" title="Permanent link">&para;</a></h3>
<p>Singularity can pull images from a variety of sources, including Dockerhub, and convert them to the proper format automatically. In order to download an image, use the <code>pull</code> subcommand followed by the output image name and the URI of the image. The general form of the command for pulling from Dockerhub is as follows:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>singularity pull &lt;output.sif&gt; docker://&lt;account&gt;/&lt;image&gt;<span class="o">[</span>:&lt;version_tag&gt;<span class="o">]</span>
</code></pre></div>
<p>For example, if we wanted to pull the <a href="https://hub.docker.com/r/godlovedc/lolcow">lolcow container</a>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>singularity pull lolcow.sif docker://godlovedc/lolcow
</code></pre></div>
<p>We now have the <code>lolcow.sif</code> image we can run or share with other researchers. It's important to remember that containers are just independent files that can be moved, copied, or deleted the same as any other file.</p>
<h3 id="running-singularity-images">Running Singularity Images<a class="headerlink" href="#running-singularity-images" title="Permanent link">&para;</a></h3>
<p>There are 3 ways to run Singularity images, all with their unique purposes and are as follows:</p>
<ol>
<li><code>singularity run</code>: run a container using a default command set by the author. Generally, this will be used when a container encompasses a full pipeline controlled by a single command. The general form for this command is <code>singularity run &lt;image.sif&gt; [options]</code> where <code>[options]</code> are defined by the default command. You can use <code>singularity run &lt;image.sif&gt; --help</code> to see what those options are.</li>
<li><code>singularity exec</code>: run any command available in the container. This provides more flexibility than <code>run</code> and would be useful in the cases where a container has more modular components as opposed to a single control script. The general form for this would be <code>singularity exec &lt;image.sif&gt; &lt;command&gt; [options]</code>. You can add the <code>--help</code> option to see what a given command does and its inputs.</li>
<li><code>singularity shell</code>: allow interactive use of the container through the terminal. This changes your active environment to that in the container. You can traverse the container's directory tree and search for various files and commands as if it was a virtual machine. This is very useful for interactive development as well as investigation of a container's contents. The general form of the command is <code>singularity shell &lt;image.sif&gt;</code>.</li>
</ol>
<p>It's important to note that both <code>run</code> and <code>exec</code> enter the container as part of their execution and then exit back to the original shell environment afterwards whereas <code>shell</code> keeps you in the container until you either close the terminal or use the <code>exit</code> command.</p>
<!-- markdownlint-disable MD046 -->
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><code>singularity shell</code> is not executable via shell scripts. Any singularity commands in a batch script should be <code>run</code> or <code>exec</code> instead.</p>
</div>
<!-- markdownlint-enable MD046 -->

<h3 id="singularity-paths">Singularity Paths<a class="headerlink" href="#singularity-paths" title="Permanent link">&para;</a></h3>
<p>By default, Singularity containers have limited access to the general filesystem. Containers get default access to the <code>/home</code> directory as well as the directory the container was run from. If you run the container from <code>$HOME</code> but try to access files in <code>$USER_DATA</code>, you will see an error. In order to give a container access to other directories, use the <code>-B</code> or <code>--bind</code> option when invoking the container. For instance, if I wanted to use <code>run</code> on a container that had an input option called <code>-i</code> and give the container access to a subfolder called <code>my_data</code> in a project space called <code>UABRC</code>, the singularity command would look like:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>singularity run --bind /data/project/UABRC/my_data image.sif -i /data/project/UABRC/my_data
</code></pre></div>
<p>You can also alias the bind path to a shorter name and use it in the command. In that case, the bind option would look like <code>--bind &lt;/directory_path&gt;:&lt;/alias&gt;</code>. For example, if I was running a container and was giving the <code>my_data</code> directory as an input, I could alias it to <code>/input_data</code> and use it in the command like so:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>singularity run --bind /data/project/UABRC/my_data:/input_data image.sif -i /input_data
</code></pre></div>
<p>These bind paths can be used in both <code>exec</code> and <code>shell</code> subcommands as well.</p>
<!-- markdownlint-disable MD046 -->
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Bind paths cannot grant access to folders and files your account does not have access to. For instance, you cannot use a container to access data in another user's account unless that user has explicitly given you the correct permissions via <code>chmod</code> or ACLs.</p>
</div>
<!-- markdownlint-enable MD046 -->

<h2 id="using-containers-on-uab-rc-cloud-cloudrcuabedu">Using Containers on UAB RC Cloud (cloud.rc.uab.edu)<a class="headerlink" href="#using-containers-on-uab-rc-cloud-cloudrcuabedu" title="Permanent link">&para;</a></h2>
<p>To access docker containers, install <code>Docker</code> in your system. To install docker desktop on your computer, follow this link: <a href="https://www.docker.com/products/docker-desktop/">Docker Desktop Page</a>.</p>
<h3 id="docker-installation-on-uab-rc-cloud">Docker Installation on UAB RC Cloud<a class="headerlink" href="#docker-installation-on-uab-rc-cloud" title="Permanent link">&para;</a></h3>
<p>Following are the installation instructions to install <code>Docker</code> on UAB RC Cloud with Ubuntu operating system. Tested the installation on Ubuntu 20.04. Setting up UAB RC Cloud account can be found in <a href="../../uab_cloud/">UAB RC Cloud</a>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>sudo apt-get update
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>sudo apt install docker.io
</code></pre></div>
<h3 id="using-a-docker-container-from-dockerhub">Using a Docker Container from DockerHub<a class="headerlink" href="#using-a-docker-container-from-dockerhub" title="Permanent link">&para;</a></h3>
<p>We can start pulling a container named <code>alpine</code> from the Docker hub. <code>alpine</code> is a general-purpose Linux distribution. Look for the container <code>alpine</code> in the docker hub, copy the pull command, and paste it into your terminal.</p>
<p><div class="lightgallery"><a data-sub-html="Containers pull docker from dockerhub." href="../images/containers_pull_docker_from_dockerhub.png"><img alt="Containers pull docker from dockerhub." src="../images/containers_pull_docker_from_dockerhub.png" /></a></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>sudo docker pull alpine
</code></pre></div>
<p><div class="lightgallery"><a data-sub-html="Containers docker pull alpine." href="../images/containers_docker_pull_alpine.png"><img alt="Containers docker pull alpine." src="../images/containers_docker_pull_alpine.png" /></a></div></p>
<p>Once the image is pulled, you can verify if the image exists using the below command. Note that if you do not specify the tag/version of the container, the recent version is built, and the tag is listed as <code>latest</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>sudo docker images
</code></pre></div>
<p><div class="lightgallery"><a data-sub-html="Containers alpine image." href="../images/containers_alpine_image.png"><img alt="Containers alpine image." src="../images/containers_alpine_image.png" /></a></div></p>
<p>If you prefer to pull a particular version of the <code>alpine</code> container, you need to mention the tag details in your pull command. You can see the available tags/versions of <code>alpine</code> from the Docker hub.</p>
<p><div class="lightgallery"><a data-sub-html="Containers dockerfile links alpine." href="../images/containers_dockerfile_links_alpine.png"><img alt="Containers dockerfile links alpine." src="../images/containers_dockerfile_links_alpine.png" /></a></div></p>
<p>To pull particular version of <code>alpine</code> container, use the below syntax.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>sudo docker pull container_name:tag
</code></pre></div>
<p>Here the <code>container_name</code> is <code>alpine</code>, and the tag is <code>3.14</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>sudo docker pull alpine:3.14
</code></pre></div>
<p>The existing image looks like,</p>
<p><div class="lightgallery"><a data-sub-html="Containers docker alpine tag image." href="../images/containers_docker_alpine_tag_image.png"><img alt="Containers docker alpine tag image." src="../images/containers_docker_alpine_tag_image.png" /></a></div></p>
<h2 id="create-your-own-docker-container">Create Your Own Docker Container<a class="headerlink" href="#create-your-own-docker-container" title="Permanent link">&para;</a></h2>
<p>You can create your own Docker container, build it, and upload/share them in the Docker hub or UAB GitLab container registry.</p>
<p>Let us take a synthetic python code and formulate the packages/dependencies required to build your software container. Below is a python script that requires packages, namely, numpy, scipy, and matplotlib. Next, the steps to create a <code>Dockerfile</code> is illustrated. Let us name this script <code>python_test.py</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>import numpy as np
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>import matplotlib
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>import pylab
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>import matplotlib.pylab as plt
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>import scipy.integrate as integrate
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="nv">a</span> <span class="o">=</span> np.array<span class="o">([</span><span class="m">0</span>, <span class="m">10</span>, <span class="m">20</span>, <span class="m">30</span>, <span class="m">40</span><span class="o">])</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>print<span class="o">(</span>a<span class="o">)</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="nv">b</span> <span class="o">=</span> np.arange<span class="o">(</span>-5, <span class="m">5</span>, <span class="m">0</span>.5<span class="o">)</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a>print<span class="o">(</span>b<span class="o">)</span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="nv">t</span> <span class="o">=</span> np.arange<span class="o">(</span><span class="m">0</span>,20.5,0.5<span class="o">)</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>print<span class="o">(</span>t<span class="o">)</span>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="nv">result</span> <span class="o">=</span> integrate.quad<span class="o">(</span>np.sin, <span class="m">0</span>, np.pi<span class="o">)</span>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>print<span class="o">(</span>result<span class="o">)</span>
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a>
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a>plt.plot<span class="o">([</span><span class="m">1</span>, <span class="m">2</span>, <span class="m">3</span>, <span class="m">4</span><span class="o">]</span>, <span class="o">[</span><span class="m">1</span>, <span class="m">4</span>, <span class="m">9</span>, <span class="m">16</span><span class="o">])</span>
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a>plt.show<span class="o">()</span>
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a>plt.savefig<span class="o">(</span><span class="s1">&#39;testing.png&#39;</span><span class="o">)</span>
</code></pre></div>
<h3 id="create-a-dockerfile-that-has-miniconda-installed">Create a Dockerfile that has Miniconda Installed<a class="headerlink" href="#create-a-dockerfile-that-has-miniconda-installed" title="Permanent link">&para;</a></h3>
<p>We require numpy, scipy, and matplotlib libraries to execute the above Python script. Following are the steps to create a specification file and build a container image.</p>
<ol>
<li>
<p>Create an empty directory <code>miniconda</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>mkdir miniconda
</code></pre></div>
</li>
<li>
<p>Create a <code>Dockerfile</code> within the <code>miniconda</code> directory with the following contents. The file name <code>Dockerfile</code> is case-sensitive.</p>
<p><div class="lightgallery"><a data-sub-html="Containers create dockerfile." href="../images/containers_create_dockerfile.png"><img alt="Containers create dockerfile." src="../images/containers_create_dockerfile.png" /></a></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1"># You may start with a base image</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="c1"># Always use a specific tag like &quot;4.10.3&quot;, never &quot;latest&quot;!</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="c1"># The version referenced by &quot;latest&quot; can change, so the build will be</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="c1"># more stable when building from a specific version tag.</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>FROM continuumio/miniconda3:4.12.0
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="c1"># Use RUN to execute commands inside the miniconda image</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a>RUN conda install -y numpy<span class="s2">&quot;&gt;=1.16.5, &lt;1.23.0&quot;</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="c1"># RUN multiple commands together</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="c1"># Last two lines are cleaning out the local repository and removing the state</span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="c1"># information for installed package</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a>RUN apt-get update <span class="se">\</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="o">&amp;&amp;</span> conda install -y <span class="nv">scipy</span><span class="o">=</span><span class="m">1</span>.7.3 <span class="se">\</span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="o">&amp;&amp;</span> conda install -y <span class="nv">matplotlib</span><span class="o">=</span><span class="m">3</span>.5.1 <span class="se">\</span>
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="o">&amp;&amp;</span> apt-get --yes clean <span class="se">\</span>
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="o">&amp;&amp;</span> rm -rf /var/lib/apt/lists/*
</code></pre></div>
<p>This is the specification file. It provides Docker with the software information, and versions, it needs to build our new container. See the Docker Container documentation for more information <a href="https://docs.docker.com/engine/reference/builder/">https://docs.docker.com/engine/reference/builder/</a>.</p>
<p>In the Dockerfile, we start with an existing container <code>continuumio/miniconda3:4.12.0</code>. This container is obtained from Dockerhub; here, <code>continuumio</code> is the producer, and the repo name is <code>continuumio/miniconda3</code>.</p>
<p><div class="lightgallery"><a data-sub-html="Containers dockerhub miniconda." href="../images/containers_dockerhub_miniconda.png"><img alt="Containers dockerhub miniconda." src="../images/containers_dockerhub_miniconda.png" /></a></div></p>
<p>You may specify the required version from the <code>Tag</code> list. Here the tag/version is <code>4.12.0</code>. Also its a very good practice to specify the version of packages for numpy, scipy, and matplotlib for better reproducibility.</p>
<div class="admonition note">
<p class="admonition-title">Containers and Reproducibiliy</p>
<p>Always include version numbers for Anaconda, package managers, software you are installing, and the dependencies for those software. Containers are not by nature scientifically reproducible, but if you include versions for as much software in the container as possible, they can be reproducible years later.</p>
</div>
</li>
<li>
<p>To build your container, change the directory to <code>miniconda</code> and use the below syntax to build the <code>Dockerfile</code>. Here we use <code>.</code> to say "current directory." This will only work if you are in the directory with the <code>Dockerfile</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>sudo docker build -t repository_name:tag .
</code></pre></div>
<p>Here the repository_name is <code>py3-miniconda</code> and the tag is <code>2022-08</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="nb">cd</span> miniconda
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>sudo docker build -t py3-miniconda:2022-08 .
</code></pre></div>
<p><div class="lightgallery"><a data-sub-html="Containers build docker." href="../images/containers_build_docker.png"><img alt="Containers build docker." src="../images/containers_build_docker.png" /></a></div></p>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>.</code> at the end of the command! This indicates that we're using the current directory as our build environment, including the Dockerfile inside. Also, you may rename the <code>repository_name</code> and <code>tag</code> as you prefer.</p>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>sudo docker images
</code></pre></div>
<p><div class="lightgallery"><a data-sub-html="Containers miniconda docker image." href="../images/containers_miniconda_docker_image.png"><img alt="Containers miniconda docker image." src="../images/containers_miniconda_docker_image.png" /></a></div></p>
<h3 id="running-the-built-miniconda-docker-container-interactively">Running the Built Miniconda Docker Container Interactively<a class="headerlink" href="#running-the-built-miniconda-docker-container-interactively" title="Permanent link">&para;</a></h3>
<p>To run docker interactively and execute commands inside the container, use the below syntax. Here <code>run</code> executes the command in a new container, and <code>-it</code> starts an interactive shell inside the container. After executing this command, the command prompt will change and move into the bash shell.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>sudo docker run -it repository_name:tag /bin/bash
</code></pre></div>
<p>To execute your container <code>py3-miniconda</code> interactively, run this command with the tag `2022-08'.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>sudo docker run -it py3-miniconda:2022-08 /bin/bash
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="nb">cd</span> /opt/conda/bin/
</code></pre></div>
<p>The <code>python</code> executables to execute our synthetic python script are within the directory structure <code>/opt/conda/bin</code>.</p>
<p><div class="lightgallery"><a data-sub-html="Docker interactive." href="../images/containers_docker_interactive.png"><img alt="Docker interactive." src="../images/containers_docker_interactive.png" /></a></div></p>
<p><div class="lightgallery"><a data-sub-html="Python executable." href="../images/containers_python_executable.png"><img alt="Python executable." src="../images/containers_python_executable.png" /></a></div></p>
<h3 id="mounting-data-onto-a-container">Mounting Data Onto a Container<a class="headerlink" href="#mounting-data-onto-a-container" title="Permanent link">&para;</a></h3>
<p>Before we mount data onto a container, remember you initially created the python script <code>python_test.py</code> when creating your own container. Move <code>python_test.py</code> within <code>miniconda</code> directory. Now you have your <code>miniconda/python_test.py</code> outside the container. To access the files outside the container you should mount the file path along with the <code>docker run</code> command.</p>
<p><div class="lightgallery"><a data-sub-html="Containers python script." href="../images/containers_python_script.png"><img alt="Containers python script." src="../images/containers_python_script.png" /></a></div></p>
<p>To mount a host directory into your docker container, use the <code>-v</code> flag.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>sudo docker run -v /host/directory/:/container/directory  -other-options
</code></pre></div>
<p>So the command for our example will be,</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>sudo docker run -v /home/ubuntu/:/home  -it py3-miniconda:2022-08 /bin/sh
</code></pre></div>
<p>Here we are mounting the $HOME directory <code>/home/ubuntu</code> from a host into containers' $HOME directory. Note that you may mount a particular directory according to your preference. The following shows the list of files in containers' $HOME directory with and without mounting.</p>
<p>Before mounting, there are no files found within the $HOME directory.</p>
<p><div class="lightgallery"><a data-sub-html="Containers before mounting." href="../images/containers_before_mounting.png"><img alt="Containers before mounting." src="../images/containers_before_mounting.png" /></a></div></p>
<p>After mounting using <code>-v</code> flag, files show up within the $HOME directory. The highlighted <code>miniconda</code> is our working directory with python script.</p>
<p><div class="lightgallery"><a data-sub-html="Containers after mounting." href="../images/containers_after_mounting.png"><img alt="Containers after mounting." src="../images/containers_after_mounting.png" /></a></div></p>
<p>We can now execute the script, python_test.py using this command.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>python python_test.py
</code></pre></div>
<p><div class="lightgallery"><a data-sub-html="Containers python script execution." href="../images/containers_python_script_execution.png"><img alt="Containers python script execution." src="../images/containers_python_script_execution.png" /></a></div></p>
<p>More lessons on Docker can be found in this link: <a href="https://christinalk.github.io/docker-introduction/">Introduction to Docker</a> and <a href="https://docs.docker.com/engine/reference/builder/">Docker Documentation</a>.</p>
<h2 id="sharing-containers-using-uab-gitlab-container-registry">Sharing Containers Using UAB GitLab Container Registry<a class="headerlink" href="#sharing-containers-using-uab-gitlab-container-registry" title="Permanent link">&para;</a></h2>
<p>If you prefer to share your container with a particular team/group, then the UAB GitLab container registry is the best and most secure option.</p>
<p>The following steps help you to create a container registry in UAB GitLab:</p>
<ol>
<li>Create a UAB Gitlab account following the guidelines from the <a href="../../account_management/gitlab_account/">UAB GitLab page</a>.</li>
<li>
<p>Create a <code>new_project</code> on UAB GitLab and click <code>Package and Registries</code>, and then go to <code>Container Registry</code>. Initially, the container registry looks empty because there are no container images in the registry.</p>
<p><div class="lightgallery"><a data-sub-html="Containers registry." href="../images/containers_registry.png"><img alt="Containers registry." src="../images/containers_registry.png" /></a></div></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Copy these CLI commands for future reference. It contains commands (1) to login to your project UAB GitLab container registry (2) Add an image to the registry using the push/build command. We will use the <code>push</code> command as we already have the existing container in our system.</p>
</div>
</li>
<li>
<p>Login to UAB GitLab Registry using your <code>registry_name:ID</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>sudo docker login gitlab.rc.uab.edu:4567
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The registry_name and ID shown in this examples are for understanding and not meant for testing. Please use your GitLab registry name and ID for testing.</p>
</div>
<p>Note: For securing concerns, use an access token to log in. Create an access token in UAB GitLab to push/pull the docker container in the container registry (Secure token and guidelines to follow are shown next).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>sudo docker login gitlab.rc.uab.edu:4567 -u username p access_token
</code></pre></div>
</li>
<li>
<p>Creating an Access Token: From the UAB GitLab page, you can create an access token instead of using a password to log in to the UAB GitLab registry. Goto Edit profile -&gt; Click <code>Access Tokens</code>. Then enter:</p>
<ul>
<li>
<p><strong>Token name.</strong>:Suggestion: "container"_"repository-name"</p>
</li>
<li>
<p><strong>Expiry date.</strong> Suggestion: Default is 30 days. You can set your expiry date 3 months from the date you are making it.</p>
</li>
<li>
<p>Under select scopes, check read and write registry  (to push images to the registry) -&gt; Then click <code>create personal access token</code>.</p>
</li>
</ul>
</li>
</ol>
<p>Once you create the token, copy the new personal access token since its a one-time step and hard to retrieve after a refresh. Use the personal access token for login.</p>
<p><div class="lightgallery"><a data-sub-html="Containers create access token." href="../images/containers_create_access_token.png"><img alt="Containers create access token." src="../images/containers_create_access_token.png" /></a></div></p>
<p><div class="lightgallery"><a data-sub-html="Containers personal access token." href="../images/containers_personal_access_token.png"><img alt="Containers personal access token." src="../images/containers_personal_access_token.png" /></a></div></p>
<p><div class="lightgallery"><a data-sub-html="Containers gitlab login success." href="../images/containers_gitlab_login_success.png"><img alt="Containers gitlab login success." src="../images/containers_gitlab_login_success.png" /></a></div></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Running <code>docker login</code> leads to a warning message that your password is stored unencrypted in <code>/root/.docker/config.json</code> (or) <code>$HOME/.docker/config.json</code>. To ignore this warning, follow the instructions in this <a href="https://leimao.github.io/blog/Docker-Login-Encrypted-Credentials/">Github page</a> or the <a href="https://docs.docker.com/engine/reference/commandline/login/#credentials-store">Docker credentials store page</a>.</p>
</div>
<h3 id="push-alpine-container-from-your-system-to-uab-gitlab-container-registry">Push Alpine Container from your System to UAB GitLab Container Registry<a class="headerlink" href="#push-alpine-container-from-your-system-to-uab-gitlab-container-registry" title="Permanent link">&para;</a></h3>
<ul>
<li>List the docker images on your local computer using the <code>docker images</code> command. An <code>alpine</code> image exists already on this computer. Your container will likely have a different name.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>sudo docker images
</code></pre></div>
<p><div class="lightgallery"><a data-sub-html="Containers docker image." href="../images/containers_docker_image.png"><img alt="Containers docker image." src="../images/containers_docker_image.png" /></a></div></p>
<ul>
<li>Tag <code>alpine</code> to push into UAB GitLab registry. We need to have the UAB GitLab registry name to push. It will show the default command on the container registry page. Copy these commands for future reference. The tag is <code>test</code> here.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>sudo docker tag alpine:latest gitlab.rc.uab.edu:4567/rc-data-science/build-and-push-container/alpinegitlab:test
</code></pre></div>
<p>You can see the tag <code>test</code> associated with the <code>alpine</code> image.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>sudo docker images
</code></pre></div>
<p><div class="lightgallery"><a data-sub-html="Containers docker test image." href="../images/containers_docker_test_image.png"><img alt="Containers docker test image." src="../images/containers_docker_test_image.png" /></a></div></p>
<p>The below first command is the syntax to push the Docker image to the UAB GitLab container registry from your computer. The second command is an example of pushing a Docker image to the UAB GitLab container registry from your computer.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The registry_name,ID, and gitlab_group_name shown in this examples are for understanding and not meant for testing. Please use your GitLab registry name and ID for testing.</p>
</div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>sudo docker push gitlab_registry_name:ID/gitlab_group_name/project_name:tag
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>sudo docker push gitlab.rc.uab.edu:4567/rc-data-science/build-and-push-container/alpinegitlab:test
</code></pre></div>
<p><div class="lightgallery"><a data-sub-html="Containers docker push gitlab." href="../images/containers_docker_push_gitlab.png"><img alt="Containers docker push gitlab." src="../images/containers_docker_push_gitlab.png" /></a></div></p>
<p>In your GitLab's page container registry, refresh to view the <code>alpine</code> container is pushed to the registry.</p>
<p><div class="lightgallery"><a data-sub-html="Containers alpine gitlab." href="../images/containers_alpine_gitlab.png"><img alt="Containers alpine gitlab." src="../images/containers_alpine_gitlab.png" /></a></div></p>
<p>Now lets pull the <code>alpine</code> container from GitLab's page container registry to your system. Before that, remove the previous image from the system, which already has a <code>test</code> tag, to avoid discrepancies.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>sudo docker rmi -f image_id
</code></pre></div>
<p><div class="lightgallery"><a data-sub-html="Containers docker rmi." href="../images/containers_docker_rmi.png"><img alt="Containers docker rmi." src="../images/containers_docker_rmi.png" /></a></div></p>
<p><div class="lightgallery"><a data-sub-html="Containers test gitlab registry." href="../images/containers_test_gitlab_registry.png"><img alt="Containers test gitlab registry." src="../images/containers_test_gitlab_registry.png" /></a></div></p>
<p>In your GitLab's page container registry, copy the pull command from the <code>test</code> container registry, and use it to pull the docker container to your system. You can see the image is reflected in the image list.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>sudo docker pull gitlab.rc.uab.edu:4567/rc-data-science/build-and-push-container/alpinegitlab:test
</code></pre></div>
<p><div class="lightgallery"><a data-sub-html="Containers gitlab pull." href="../images/containers_gitlab_pull.png"><img alt="Containers gitlab pull." src="../images/containers_gitlab_pull.png" /></a></div></p>
<p><div class="lightgallery"><a data-sub-html="Containers pull docker images." href="../images/containers_pull_docker_images.png"><img alt="Containers pull docker images." src="../images/containers_pull_docker_images.png" /></a></div></p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">March 8, 2023</span>
      
    
  </small>
</div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../r_environments/" class="md-footer__link md-footer__link--prev" aria-label="Previous: R Projects and Environments" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              R Projects and Environments
            </div>
          </div>
        </a>
      
      
        
        <a href="../git_collaboration/" class="md-footer__link md-footer__link--next" aria-label="Next: Software Collaboration with GitHub and GitLab" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Software Collaboration with GitHub and GitLab
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2021-2022 The University of Alabama at Birmingham.<br /><b>Still stuck after reading?</b> Email us at <a href="mailto:support@listserv.uab.edu" class="supportemail">support@listserv.uab.edu</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.indexes", "navigation.instant"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.22074ed6.min.js"}</script>
    
    

      <script src="../../assets/javascripts/bundle.1514a9a0.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
<script>
  var elements = document.getElementsByClassName("lightgallery");
  for (var i = 0; i < elements.length; i++) {
    lightGallery(elements[i]);
  }
</script>

  </body>
</html>

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.6">
    
    
      
        <title>Submitting Jobs - Research Computing Documentation</title>
      
    
    

      <link rel="stylesheet" href="../../../assets/stylesheets/main.cd566b2a.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
<link rel="stylesheet" href="../../../css/lightgallery.min.css" />

    

<script src="../../../js/lightgallery.min.js"></script>

    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#submitting-jobs-with-slurm" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Research Computing Documentation" class="md-header__button md-logo" aria-label="Research Computing Documentation" data-md-component="logo">
      
  <img src="../../../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Research Computing Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Submitting Jobs
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/uabrc/uabrc.github.io/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Research Computing Documentation" class="md-nav__button md-logo" aria-label="Research Computing Documentation" data-md-component="logo">
      
  <img src="../../../images/logo.png" alt="logo">

    </a>
    Research Computing Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/uabrc/uabrc.github.io/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2">
          Account Management
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Account Management" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Account Management
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../account_management/cheaha_account/" class="md-nav__link">
        Cheaha Account
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_2" type="checkbox" id="__nav_2_2" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../account_management/xias/">External Collaborator Accounts (XIAS)</a>
          
            <label for="__nav_2_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="External Collaborator Accounts (XIAS)" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          External Collaborator Accounts (XIAS)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../account_management/xias/pi_site_management/" class="md-nav__link">
        For PIs - (1) Managing Projects & Sites
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../account_management/xias/pi_guest_management/" class="md-nav__link">
        For PIs - (2) Managing Guests
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../account_management/xias/guest_instructions/" class="md-nav__link">
        For Guests - Account Creation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../account_management/gitlab_account/" class="md-nav__link">
        Gitlab Account
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3">
          Data Management
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Data Management" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Data Management
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data_management/storage/" class="md-nav__link">
        Cheaha Storage
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      
      
        
          
            
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../data_management/lts/">Long Term Storage</a>
          
            <label for="__nav_3_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Long Term Storage" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Long Term Storage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data_management/lts/interfaces/" class="md-nav__link">
        Interfacing with LTS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data_management/lts/policies/" class="md-nav__link">
        Sharing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      
      
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_3_3">
          Transfer
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Transfer" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Transfer
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data_management/transfer/globus/" class="md-nav__link">
        Globus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data_management/transfer/rclone/" class="md-nav__link">
        RClone
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data_management/transfer/filezilla/" class="md-nav__link">
        FileZilla
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../data_management/code_storage/" class="md-nav__link">
        Code Storage
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_4">
          Workflow Solutions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Workflow Solutions" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Workflow Solutions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../workflow_solutions/shell/" class="md-nav__link">
        Using the Shell
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../workflow_solutions/using_anaconda/" class="md-nav__link">
        Using Anaconda
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../workflow_solutions/using_workflow_managers/" class="md-nav__link">
        Using Workflow Managers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../workflow_solutions/git/" class="md-nav__link">
        Using Git
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../workflow_solutions/r_environments/" class="md-nav__link">
        R Projects and Environments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../workflow_solutions/getting_containers/" class="md-nav__link">
        Software Containers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../workflow_solutions/git_collaboration/" class="md-nav__link">
        Software Collaboration with GitHub and GitLab
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5">
          Cheaha Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Cheaha Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Cheaha Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../hardware/" class="md-nav__link">
        Hardware
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_3" type="checkbox" id="__nav_5_3" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_3">
          Software
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Software" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_3">
          <span class="md-nav__icon md-icon"></span>
          Software
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../software/modules/" class="md-nav__link">
        Preinstalled Modules
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../software/software/" class="md-nav__link">
        Self-Installed Software
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_4" type="checkbox" id="__nav_5_4" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_4">
          Open OnDemand
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Open OnDemand" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_4">
          <span class="md-nav__icon md-icon"></span>
          Open OnDemand
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../open_ondemand/ood_main/" class="md-nav__link">
        Homepage
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../open_ondemand/ood_files/" class="md-nav__link">
        File Browser
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../open_ondemand/ood_interactive/" class="md-nav__link">
        Interactive Apps
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../open_ondemand/ood_jobs/" class="md-nav__link">
        Job Composer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_5" type="checkbox" id="__nav_5_5" checked>
      
      
      
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_5_5">
          SLURM
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="SLURM" data-md-level="2">
        <label class="md-nav__title" for="__nav_5_5">
          <span class="md-nav__icon md-icon"></span>
          SLURM
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Submitting Jobs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Submitting Jobs
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#common-slurm-terminology" class="md-nav__link">
    Common Slurm Terminology
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#slurm-flags-and-environment-variables" class="md-nav__link">
    Slurm Flags and Environment Variables
  </a>
  
    <nav class="md-nav" aria-label="Slurm Flags and Environment Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#available-partitions-for-partition" class="md-nav__link">
    Available Partitions for --partition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requesting-gpus" class="md-nav__link">
    Requesting GPUs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-output-and-error-file-names" class="md-nav__link">
    Dynamic --output and --error File Names
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#batch-jobs-with-sbatch" class="md-nav__link">
    Batch Jobs with sbatch
  </a>
  
    <nav class="md-nav" aria-label="Batch Jobs with sbatch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-simple-batch-job" class="md-nav__link">
    A Simple Batch Job
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#batch-array-jobs-with-known-indices" class="md-nav__link">
    Batch Array Jobs With Known Indices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#batch-array-jobs-with-dynamic-or-computed-indices" class="md-nav__link">
    Batch Array Jobs With Dynamic or Computed Indices
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interactive-jobs-with-srun" class="md-nav__link">
    Interactive Jobs with srun
  </a>
  
    <nav class="md-nav" aria-label="Interactive Jobs with srun">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#srun-for-running-parallel-jobs" class="md-nav__link">
    srun for running parallel jobs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graphical-interactive-jobs" class="md-nav__link">
    Graphical Interactive Jobs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estimating-compute-resources" class="md-nav__link">
    Estimating Compute Resources
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#faster-queuing-with-job-efficiency" class="md-nav__link">
    Faster Queuing with Job Efficiency
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../practical_sbatch/" class="md-nav__link">
        Practical Batch Array Jobs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../job_management/" class="md-nav__link">
        Managing Jobs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../gpu/" class="md-nav__link">
        GPUs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../job_efficiency/" class="md-nav__link">
        Job Efficiency
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../uab_cloud/">UAB Cloud (cloud.rc) Guide</a>
          
            <label for="__nav_6">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="UAB Cloud (cloud.rc) Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          UAB Cloud (cloud.rc) Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_2" type="checkbox" id="__nav_6_2" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../uab_cloud/tutorial/">Tutorial</a>
          
            <label for="__nav_6_2">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="Tutorial" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          Tutorial
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../uab_cloud/tutorial/networks/" class="md-nav__link">
        (1) Networks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../uab_cloud/tutorial/security/" class="md-nav__link">
        (2) Security Policies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../uab_cloud/tutorial/instances/" class="md-nav__link">
        (3) Instances
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../uab_cloud/tutorial/volumes/" class="md-nav__link">
        (4) Volumes (optional)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../uab_cloud/remote_access/" class="md-nav__link">
        Remote Access
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../uab_cloud/installing_software/" class="md-nav__link">
        Installing Software
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../uab_cloud/snapshots/" class="md-nav__link">
        Snapshots and Images
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
        
          
        
      
      
        <label class="md-nav__link" for="__nav_7">
          UAB Kubernetes Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="UAB Kubernetes Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          UAB Kubernetes Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../kubernetes/startup/" class="md-nav__link">
        Startup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
        
          
            
          
        
          
        
          
        
          
        
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="../../../national_ci/">National Research Computing Cyberinfrastructure</a>
          
            <label for="__nav_8">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="National Research Computing Cyberinfrastructure" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          National Research Computing Cyberinfrastructure
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../national_ci/osg/" class="md-nav__link">
        The Open Science Grid
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../national_ci/nsf_access/" class="md-nav__link">
        NSF Cyberinfrastructure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../national_ci/nih/" class="md-nav__link">
        NIH Cyberinfrastructure
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_9">
          Grants & Contracts
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Grants & Contracts" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Grants & Contracts
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../grants/overview/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../grants/facilities/" class="md-nav__link">
        Facilities and Plan
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../grants/budgets/" class="md-nav__link">
        Budgeting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../grants/publications/" class="md-nav__link">
        Descriptions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_10">
          Outreach & Training
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Outreach & Training" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Outreach & Training
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../education/case_studies/" class="md-nav__link">
        Case Studies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../education/research_computing_days/" class="md-nav__link">
        Research Computing Days
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../education/courses/" class="md-nav__link">
        Offered Courses
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../education/training_resources/" class="md-nav__link">
        Training Resources
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../policies/" class="md-nav__link">
        Policies
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/reporting_errors/" class="md-nav__link">
        Reporting Documentation Errors
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/contributor_guide/" class="md-nav__link">
        Contributing Content
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14" type="checkbox" id="__nav_14" >
      
      
      
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_14">
          Help
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Help" data-md-level="1">
        <label class="md-nav__title" for="__nav_14">
          <span class="md-nav__icon md-icon"></span>
          Help
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../help/support/" class="md-nav__link">
        Support
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../help/faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#common-slurm-terminology" class="md-nav__link">
    Common Slurm Terminology
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#slurm-flags-and-environment-variables" class="md-nav__link">
    Slurm Flags and Environment Variables
  </a>
  
    <nav class="md-nav" aria-label="Slurm Flags and Environment Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#available-partitions-for-partition" class="md-nav__link">
    Available Partitions for --partition
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#requesting-gpus" class="md-nav__link">
    Requesting GPUs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dynamic-output-and-error-file-names" class="md-nav__link">
    Dynamic --output and --error File Names
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#batch-jobs-with-sbatch" class="md-nav__link">
    Batch Jobs with sbatch
  </a>
  
    <nav class="md-nav" aria-label="Batch Jobs with sbatch">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-simple-batch-job" class="md-nav__link">
    A Simple Batch Job
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#batch-array-jobs-with-known-indices" class="md-nav__link">
    Batch Array Jobs With Known Indices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#batch-array-jobs-with-dynamic-or-computed-indices" class="md-nav__link">
    Batch Array Jobs With Dynamic or Computed Indices
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interactive-jobs-with-srun" class="md-nav__link">
    Interactive Jobs with srun
  </a>
  
    <nav class="md-nav" aria-label="Interactive Jobs with srun">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#srun-for-running-parallel-jobs" class="md-nav__link">
    srun for running parallel jobs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graphical-interactive-jobs" class="md-nav__link">
    Graphical Interactive Jobs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estimating-compute-resources" class="md-nav__link">
    Estimating Compute Resources
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#faster-queuing-with-job-efficiency" class="md-nav__link">
    Faster Queuing with Job Efficiency
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/uabrc/uabrc.github.io/edit/main/docs/cheaha/slurm/submitting_jobs.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>


<h1 id="submitting-jobs-with-slurm">Submitting Jobs with Slurm<a class="headerlink" href="#submitting-jobs-with-slurm" title="Permanent link">&para;</a></h1>
<p>Processing computational tasks with Cheaha at the terminal requires submitting jobs to the Slurm scheduler. Slurm offers two commands to submit jobs: <code>sbatch</code> and <code>srun</code>. Always use <code>sbatch</code> to submit jobs to the scheduler, unless you need an <a href="#interactive-jobs-with-srun">interactive terminal</a>. Otherwise only use <code>srun</code> within <code>sbatch</code> for submitting job steps within an <a href="#batch-jobs-with-sbatch"><code>sbatch</code> script</a> context.</p>
<p>The command <code>sbatch</code> accepts script files as input. Scripts should be written in an available shell language on Cheaha, typically bash, and should include the appropriate Slurm directives at the top of the script telling the scheduler the requested resources. Read on to learn more about how to use Slurm effectively.</p>
<!-- markdownlint-disable MD046 -->
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Much of the information and examples on this page require a working knowledge of terminal commands and the shell. If you are unfamiliar with the terminal then please see our <a href="../../../workflow_solutions/shell/">Shell page</a> for more information and educational resources.</p>
</div>
<!-- markdownlint-enable MD046 -->

<h2 id="common-slurm-terminology">Common Slurm Terminology<a class="headerlink" href="#common-slurm-terminology" title="Permanent link">&para;</a></h2>
<ul>
<li>Node: A self-contained computing devices, forming the basic unit of the cluster. A node has multiple CPUs, memory, and some have GPUs. Jobs requiring multiple nodes must use a protocol such as MPI to communicate between them.<ul>
<li>Login nodes: Gateway for reseacher access to computing resources, shared among all users. <strong>DO NOT</strong> run research computation tasks on the login node.</li>
<li>Compute nodes: Dedicated nodes for running research computation tasks.</li>
</ul>
</li>
<li>Core: A single unit of computational processing, not to be confused with a CPU, which may have many cores.</li>
<li>Partition: A logical subset of nodes sharing computational features. Different partitions have different resource limits, priorities, and hardware.</li>
<li>Job: A collection of commands that require computational resources to perform. Can be interactive with <code>srun</code> or submitted to the scheduler with <code>srun</code> or <code>sbatch</code>.</li>
<li>Batch Job: An array of jobs which all have the same plan for execution, but may vary in terms of input and output. Only available in non-interactive batch mode via <code>sbatch</code></li>
<li>Job ID: The unique number representing the job, returned by <code>srun</code> and <code>sbatch</code>. Stored in <code>$SLURM_JOB_ID</code> within a job.</li>
<li>Job Index Number: For array jobs, the index of the currently running job within the array. Stored in <code>$SLURM_ARRAY_TASK_ID</code> within a job.</li>
</ul>
<h2 id="slurm-flags-and-environment-variables">Slurm Flags and Environment Variables<a class="headerlink" href="#slurm-flags-and-environment-variables" title="Permanent link">&para;</a></h2>
<p>Slurm has many flags a researcher can use when creating a job, but a short list of the most important ones for are described below. It is highly recommended to be as explicit as possible with flags and not rely on system defaults. Explicitly using the flags below makes your scripts more portable, shareable and reproducible.</p>
<table>
<thead>
<tr>
<th align="left">Flag</th>
<th align="left">Short</th>
<th align="left">Environment Variable</th>
<th align="left">Description</th>
<th align="left">sbatch</th>
<th align="left">srun</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>--job-name</code></td>
<td align="left"><code>-J</code></td>
<td align="left"><code>SBATCH_JOB_NAME</code></td>
<td align="left">Name of job stored in records and visible in <code>squeue</code>.</td>
<td align="left"><a href="https://slurm.schedmd.com/sbatch.html#OPT_job-name">sbatch</a></td>
<td align="left"><a href="https://slurm.schedmd.com/srun.html#OPT_job-name">srun</a></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"><code>SLURM_JOB_ID</code></td>
<td align="left">Job ID number of running job or array task. May differ from <code>SLURM_ARRAY_JOB_ID</code> depending on array task index</td>
<td align="left"><a href="https://slurm.schedmd.com/sbatch.html#OPT_SLURM_JOB_ID">sbatch</a></td>
<td align="left"><a href="https://slurm.schedmd.com/srun.html#OPT_SLURM_JOB_ID">srun</a></td>
</tr>
<tr>
<td align="left"><code>--output</code></td>
<td align="left"><code>-o</code></td>
<td align="left"><code>SBATCH_OUTPUT</code></td>
<td align="left">Path to file storing text output.</td>
<td align="left"><a href="https://slurm.schedmd.com/sbatch.html#OPT_output">sbatch</a></td>
<td align="left"><a href="https://slurm.schedmd.com/srun.html#OPT_output">srun</a></td>
</tr>
<tr>
<td align="left"><code>--error</code></td>
<td align="left"><code>-e</code></td>
<td align="left"><code>SBATCH_ERROR</code></td>
<td align="left">Path to file storing error output.</td>
<td align="left"><a href="https://slurm.schedmd.com/sbatch.html#OPT_error">sbatch</a></td>
<td align="left"><a href="https://slurm.schedmd.com/srun.html#OPT_error">srun</a></td>
</tr>
<tr>
<td align="left"><code>--partition</code></td>
<td align="left"><code>-p</code></td>
<td align="left"><code>SBATCH_PARTITION</code></td>
<td align="left">Partition to submit job to. More details below.</td>
<td align="left"><a href="https://slurm.schedmd.com/sbatch.html#OPT_partition">sbatch</a></td>
<td align="left"><a href="https://slurm.schedmd.com/srun.html#OPT_partition">srun</a></td>
</tr>
<tr>
<td align="left"><code>--time</code></td>
<td align="left"><code>-t</code></td>
<td align="left"><code>SBATCH_TIMELIMIT</code></td>
<td align="left">Maximum allowed runtime of job. Allowed formats below.</td>
<td align="left"><a href="https://slurm.schedmd.com/sbatch.html#OPT_time">sbatch</a></td>
<td align="left"><a href="https://slurm.schedmd.com/srun.html#OPT_time">srun</a></td>
</tr>
<tr>
<td align="left"><code>--nodes</code></td>
<td align="left"><code>-N</code></td>
<td align="left"></td>
<td align="left">Number of nodes needed. Set to <code>1</code> if your software does not use MPI or if unsure.</td>
<td align="left"><a href="https://slurm.schedmd.com/sbatch.html#OPT_nodes">sbatch</a></td>
<td align="left"><a href="https://slurm.schedmd.com/srun.html#OPT_nodes">srun</a></td>
</tr>
<tr>
<td align="left"><code>--ntasks</code></td>
<td align="left"><code>-n</code></td>
<td align="left"><code>SLURM_NTASKS</code></td>
<td align="left">Number of tasks planned per node. Mostly used for bookkeeping and calculating total cpus per node. If unsure set to <code>1</code>.</td>
<td align="left"><a href="https://slurm.schedmd.com/sbatch.html#OPT_ntasks">sbatch</a></td>
<td align="left"><a href="https://slurm.schedmd.com/srun.html#OPT_ntasks">srun</a></td>
</tr>
<tr>
<td align="left"><code>--cpus-per-task</code></td>
<td align="left"><code>-c</code></td>
<td align="left"><code>SLURM_CPUS_PER_TASK</code></td>
<td align="left">Number of needed cores per task. Cores per node equals <code>-n</code> times <code>-c</code>.</td>
<td align="left"><a href="https://slurm.schedmd.com/sbatch.html#OPT_cpus-per-task">sbatch</a></td>
<td align="left"><a href="https://slurm.schedmd.com/srun.html#OPT_cpus-per-task">srun</a></td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"><code>SLURM_CPUS_ON_NODE</code></td>
<td align="left">Number of cpus available on this node.</td>
<td align="left"><a href="https://slurm.schedmd.com/sbatch.html#OPT_SLURM_CPUS_ON_NODE">sbatch</a></td>
<td align="left"><a href="https://slurm.schedmd.com/srun.html#OPT_SLURM_CPUS_ON_NODE">srun</a></td>
</tr>
<tr>
<td align="left"><code>--mem</code></td>
<td align="left"></td>
<td align="left"><code>SLURM_MEM_PER_NODE</code></td>
<td align="left">Amount of RAM needed per node in MB. Can specify 16 GB using 16384 or 16G.</td>
<td align="left"><a href="https://slurm.schedmd.com/sbatch.html#OPT_mem">sbatch</a></td>
<td align="left"><a href="https://slurm.schedmd.com/srun.html#OPT_SLURM_CPUS_ON_NODE">srun</a></td>
</tr>
<tr>
<td align="left"><code>--gres</code></td>
<td align="left"></td>
<td align="left"><code>SBATCH_GRES</code></td>
<td align="left">Used to request GPUs per node. For 2 GPUs per node use <code>--gres=gpu:2</code>.</td>
<td align="left"><a href="https://slurm.schedmd.com/sbatch.html#OPT_gres">sbatch</a></td>
<td align="left"><a href="https://slurm.schedmd.com/srun.html#OPT_gres">srun</a></td>
</tr>
<tr>
<td align="left"><code>--array</code></td>
<td align="left"></td>
<td align="left"><code>SBATCH_ARRAY_INX</code></td>
<td align="left">Comma-separated list of similar tasks to run. More details below.</td>
<td align="left"><a href="https://slurm.schedmd.com/sbatch.html#OPT_array">sbatch</a></td>
<td align="left">n/a</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"><code>SBATCH_ARRAY_JOB_ID</code></td>
<td align="left">Parent Job ID number of array task. Same for all array tasks submitted with same script. May differ from <code>SLURM_JOB_ID</code> depending on array task index.</td>
<td align="left"><a href="https://slurm.schedmd.com/sbatch.html#OPT_SLURM_JOB_ID">sbatch</a></td>
<td align="left">n/a</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"><code>SLURM_ARRAY_TASK_COUNT</code></td>
<td align="left">Total number of array tasks.</td>
<td align="left"><a href="https://slurm.schedmd.com/sbatch.html#OPT_SLURM_ARRAY_TASK_COUNT">sbatch</a></td>
<td align="left">n/a</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"><code>SLURM_ARRAY_TASK_ID</code></td>
<td align="left">Current array task index.</td>
<td align="left"><a href="https://slurm.schedmd.com/sbatch.html#OPT_SLURM_ARRAY_TASK_ID">sbatch</a></td>
<td align="left">n/a</td>
</tr>
</tbody>
</table>
<h3 id="available-partitions-for-partition">Available Partitions for <code>--partition</code><a class="headerlink" href="#available-partitions-for-partition" title="Permanent link">&para;</a></h3>
<p>Please see <a href="../../hardware/#summary">Cheaha Hardware</a> for more information. Remember, the smaller your resource request, the sooner your job will get through the queue.</p>
<h3 id="requesting-gpus">Requesting GPUs<a class="headerlink" href="#requesting-gpus" title="Permanent link">&para;</a></h3>
<p>Please see the <a href="../gpu/">GPUs page</a> for more information.</p>
<h3 id="dynamic-output-and-error-file-names">Dynamic <code>--output</code> and <code>--error</code> File Names<a class="headerlink" href="#dynamic-output-and-error-file-names" title="Permanent link">&para;</a></h3>
<p>The <code>--output</code> and <code>--error</code> flags can use dynamic job information as part of the name:</p>
<ul>
<li><code>%j</code> is the Job ID, equal to <code>$SLURM_JOB_ID</code>.</li>
<li><code>%A</code> is the main Array Job ID, equal to <code>$SLURM_ARRAY_JOB_ID</code>.</li>
<li><code>%a</code> is the Array job index number, equal to <code>$SLURM_ARRAY_TASK_ID</code>.</li>
<li><code>%x</code> is the <code>--job-name</code>, equal to <code>$SLURM_JOB_NAME</code>.</li>
</ul>
<p>For example if using <code>--job-name=my-job</code>, then to create an output file like <code>my-job-12345678</code> use <code>--output=%x-%j</code>.</p>
<p>If also using <code>--array=0-4</code>, then to create an output file like <code>my-job-12345678-0</code> use <code>--output=%x-%A-%a</code>.</p>
<h2 id="batch-jobs-with-sbatch">Batch Jobs with <code>sbatch</code><a class="headerlink" href="#batch-jobs-with-sbatch" title="Permanent link">&para;</a></h2>
<!-- markdownlint-disable MD046 -->
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The following examples assume familiarity with the Linux terminal. If you are unfamiliar with the terminal then please see our <a href="../../../workflow_solutions/shell/">Shell page</a> for more information and educational resources.</p>
</div>
<!-- markdownlint-enable MD046 -->

<p>Batch jobs are typically submitted using scripts with <code>sbatch</code>. Using <code>sbatch</code> this way is the preferred method for submitting jobs to Slurm on Cheaha. It is more portable, shareable, reproducible and scripts can be version controlled using <a href="../../../workflow_solutions/git_collaboration/">Git</a>.</p>
<p>For batch jobs, flags are typically included as directive comments at the top of the script like <code>#SBATCH --job-name=my-job</code>. Read on to see examples of batch jobs using <code>sbatch</code>.</p>
<h3 id="a-simple-batch-job">A Simple Batch Job<a class="headerlink" href="#a-simple-batch-job" title="Permanent link">&para;</a></h3>
<p>Below is an example batch job script. To test it, copy and paste it into a plain text file <code>testjob.sh</code> in your <a href="../../../data_management/storage/#home-directory">Home Directory</a> on Cheaha. Run it at the terminal by navigating to your home directory by entering <code>cd ~</code> and then entering <code>sbatch testjob.sh</code>. Momentarily, two text files with <code>.out</code> and <code>.err</code> suffixes will be produced in your home directory.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="c1">#</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="c1">#SBATCH --job-name=test</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1">#SBATCH --nodes=1</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="c1">#SBATCH --ntasks=1</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="c1">#SBATCH --cpus-per-task=1</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="c1">#SBATCH --mem=1G</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="c1">#SBATCH --partition=express</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="c1">#SBATCH --time=00:10:00</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="c1">#SBATCH --output=%x_%j.out</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="c1">#SBATCH --error=%x_%j.err</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="nb">echo</span> <span class="s2">&quot;Hello World&quot;</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="nb">echo</span> <span class="s2">&quot;Hello Error&quot;</span> <span class="m">1</span>&gt;<span class="p">&amp;</span><span class="m">2</span>
</code></pre></div>
<p>There is a lot going on in the above script, so let's break it down. There are three main chunks of this script:</p>
<ol>
<li>Line 1 is the interpreter directive: <code>#!/bin/bash</code>. This tells the shell what application to use to execute this script. All <code>sbatch</code> scripts on Cheaha should start with this line.</li>
<li>
<p>Lines 3-11 are the <a href="#slurm-flags-and-environment-variables"><code>sbatch</code> flags</a> which tell the scheduler what resources you need and how to manage your job.</p>
<ul>
<li>Line 3: The job name is <code>test</code>.</li>
<li>Lines 4-7: The job will have 1 node, with 1 core and 1 GB of memory.</li>
<li>Line 8: The job will be on the express partition.</li>
<li>Line 9: The job will be no longer than 10 minutes, and will be terminated if it runs over.</li>
<li>Line 10: Any standard output (<code>stdout</code>) will be written to the file <code>test_$SLURM_JOB_ID.out</code> in the same directory as the script, whatever the <code>$SLURM_JOB_ID</code> happens to be when the job is submitted. The name comes from <code>%x</code> equal to <code>test</code>, the <code>--job-name</code>, and <code>%j</code> equal to the Job ID.</li>
<li>Line 11: Any error output (<code>stderr</code>) will be written to a different file <code>test_$SLURM_JOB_ID.err</code> in the same directory.</li>
</ul>
</li>
<li>
<p>Lines 13 and 14 are the payload, or tasks to be run. They will be executed in order from top to bottom just like any shell script. In this case, it is simply writing "Hello World" to the <code>--output</code> file and "Hello Error" to the <code>--error</code> file. The <code>1&gt;&amp;2</code> Means redirect a copy (<code>&gt;&amp;</code>) of <code>stdout</code> to <code>stderr</code>.</p>
</li>
</ol>
<h3 id="batch-array-jobs-with-known-indices">Batch Array Jobs With Known Indices<a class="headerlink" href="#batch-array-jobs-with-known-indices" title="Permanent link">&para;</a></h3>
<p>Building on the job script above, below is an array job. Array jobs are useful when you need to perform the same analysis on slightly different inputs with no interaction between those analyses. We call this situation "pleasingly parallel". We can take advantage of an array job using the variable <code>$SLURM_ARRAY_TASK_ID</code>, which will have an integer in the set of values we give to the <code>--array</code> flag.</p>
<p>To test the script below, copy and paste it into a plain text file <code>testarrayjob.sh</code> in your <a href="../../../data_management/storage/#home-directory">Home Directory</a> on Cheaha. Run it at the terminal by navigating to your home directory by entering <code>cd ~</code> and then entering <code>sbatch testarrayjob.sh</code>. Momentarily, 16 text files with <code>.out</code> and <code>.err</code> suffixes will be produced in your home directory.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="c1">#</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="c1">#SBATCH --job-name=test</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1">#SBATCH --nodes=1</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="c1">#SBATCH --ntasks=1</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="c1">#SBATCH --cpus-per-task=1</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="c1">#SBATCH --mem=1G</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="c1">#SBATCH --partition=express</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="c1">#SBATCH --time=00:10:00</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="c1">#SBATCH --output=%x_%A_%a.out</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="c1">#SBATCH --error=%x_%A_%a.err</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="c1">#SBATCH --array=0-9</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="nb">echo</span> <span class="s2">&quot;My SLURM_ARRAY_TASK_ID: &quot;</span> <span class="nv">$SLURM_ARRAY_TASK_ID</span>
</code></pre></div>
<p>This script is very similar to the one above, but will submit 10 jobs to the scheduler that all do slightly different things. Each of the 10 jobs will have the same amount and type of resources allocated, and can run in parallel. The 10 jobs come from <code>--array=0-9</code>. The output of each job will be one of the numbers in the set <code>{0, 1, 2, 3, 4, 5, 6, 7, 8, 9}</code>, depending on which job is running. The output files will look like <code>test_$(SLURM_ARRAY_JOB_ID)_$(SLURM_ARRAY_TASK_ID).out</code> or <code>.err</code>. The value of <code>$(SLURM_ARRAY_JOB_ID)</code> is the main Job ID given to the entire array submission.</p>
<p>Scripts can be written to take advantage of the <code>$SLURM_ARRAY_TASK_ID</code> variable indexing variable. For example, a project could have a list of participants that should be processed in the same way, and the analysis script uses the array task ID as an index to pull out one entry from that list for each job. Many common programming languages can interact with shell variables like <code>$SLURM_ARRAY_TASK_ID</code>, or the values can be passed to a program as an argument.</p>
<p>You can override the <code>--array</code> flag stored in the script when you call <code>sbatch</code>. To do so, pass another <code>--array</code> flag along with the script name like below. This allows you to rerun only subsets of your array script.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1"># submit jobs with index 0, 3, and 7</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>sbatch --array<span class="o">=</span><span class="m">0</span>,3,7 array.sh
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="c1"># submit jobs with index 0, 2, 4, and 6</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>sbatch --array<span class="o">=</span><span class="m">0</span>-6:2 array.sh
</code></pre></div>
<p>For more details on using <code>sbatch</code> please see the <a href="https://slurm.schedmd.com/sbatch.html">official documentation</a>.</p>
<!-- markdownlint-disable MD046 -->
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are using bash or shell arrays, it is crucial to note they use 0-based indexing. Plan your <code>--array</code> flag indices accordingly.</p>
</div>
<!-- markdownlint-enable MD046 -->

<h3 id="batch-array-jobs-with-dynamic-or-computed-indices">Batch Array Jobs With Dynamic or Computed Indices<a class="headerlink" href="#batch-array-jobs-with-dynamic-or-computed-indices" title="Permanent link">&para;</a></h3>
<p>For a practical example with dynamic indices, please visit our <a href="../practical_sbatch/">Practical <code>sbatch</code> Examples</a></p>
<h2 id="interactive-jobs-with-srun">Interactive Jobs with <code>srun</code><a class="headerlink" href="#interactive-jobs-with-srun" title="Permanent link">&para;</a></h2>
<p>Jobs should be submitted to the slurm job scheduler either using a <a href="#batch-jobs-with-sbatch">batch job</a> or an <a href="../../open_ondemand/ood_main/">Open OnDemand (OOD) interactive job</a>.</p>
<p>You can use <code>srun</code> for working on short interactive tasks such as <a href="../../../workflow_solutions/using_anaconda/">creating an Anaconda environment</a> and running <a href="#srun-for-running-parallel-jobs">parallel tasks</a> within an sbatch script.</p>
<!-- markdownlint-disable MD046 -->
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The limitations of <code>srun</code> is that the jobs/execution die if the internet connection is down, and you may have to rerun the job again.</p>
</div>
<!-- markdownlint-disable MD046 -->

<p>Let us see how to acquire a compute node quickly using <code>srun</code>. You can run interactive job using <code>srun</code> command with the <code>--pty /bin/bash</code> flag. Here is an example,</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nv">$srun</span> --ntasks<span class="o">=</span><span class="m">2</span> --time<span class="o">=</span><span class="m">01</span>:00:00 --mem-per-cpu<span class="o">=</span>8G --partition<span class="o">=</span>medium --job-name<span class="o">=</span>test_srun --pty /bin/bash
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>srun: job <span class="m">21648044</span> queued and waiting <span class="k">for</span> resources
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>srun: job <span class="m">21648044</span> has been allocated resources
</code></pre></div>
<p>The above example allocates a compute node with a 8GB of RAM on a <code>medium</code> partition with <code>--ntasks=2</code> to run short tasks.</p>
<h3 id="srun-for-running-parallel-jobs"><code>srun</code> for running parallel jobs<a class="headerlink" href="#srun-for-running-parallel-jobs" title="Permanent link">&para;</a></h3>
<p><code>srun</code> is used to run executables in parallel, and is used within <code>sbatch</code> script. Let us see an example where <code>srun</code> is used to launch multiple (parallel) instances of a job.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="c1">#SBATCH --nodes=2</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="c1">#SBATCH --ntasks-per-node=1</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="c1">#SBATCH --job-name=srun_test</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="c1">#SBATCH --partition=long</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="c1">#SBATCH --time=05:00</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="c1">#SBATCH --mem=4G</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>srun hostname
</code></pre></div>
<p>In the script above, we have asked for two nodes --nodes=2, and each node will run a single instance of a <code>hostname</code> as we requested --ntasks-per-node=1. The output for the above script is,</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>c0187
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>c0188
</code></pre></div>
<p>Here is another example of running different independent programs simultaneously on different resources within a batch job. Multiple <code>srun</code> can execute simultaneously as long as they do not exceed the resources reserved for that job i.e., step 1 executes in node 1 with --ntasks=4, and step 2 executes in node 2 with --ntasks=4 simultaneously. Note that <code>--nodes=1 -r1</code> in step 2 defines the number of nodes and their relative node position within the resources assigned to the job.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="ch">#!/bin/bash</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="c1">#SBATCH --nodes=2</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="c1">#SBATCH --ntasks=8</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="c1">#SBATCH --ntasks-per-node=4</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="c1">#SBATCH --cpus-per-task=1</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="c1">#SBATCH --partition=amd-hdr100</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="c1">#SBATCH --time=05:00</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="c1">#SBATCH --mem-per-cpu=1G</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="c1">#Partioning of resources for two different tasks</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="c1">#STEP 1</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>srun --nodes<span class="o">=</span><span class="m">1</span> --ntasks<span class="o">=</span><span class="m">4</span> hostname
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="c1">#STEP 2</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>srun --nodes<span class="o">=</span><span class="m">1</span> -r1 --ntasks<span class="o">=</span><span class="m">4</span> uname -a
</code></pre></div>
<p>Here is the output for running multiple <code>srun</code> in a single job, i.e., executing the <code>hostname</code> and <code>uname -a</code> tasks simultaneously but on different nodes.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>c0203
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>c0203
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>c0203
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>c0203
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>Linux c0204 <span class="m">3</span>.10.0-1160.24.1.el7.x86_64 <span class="c1">#1 SMP Thu Mar 25 21:21:56 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>Linux c0204 <span class="m">3</span>.10.0-1160.24.1.el7.x86_64 <span class="c1">#1 SMP Thu Mar 25 21:21:56 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>Linux c0204 <span class="m">3</span>.10.0-1160.24.1.el7.x86_64 <span class="c1">#1 SMP Thu Mar 25 21:21:56 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>Linux c0204 <span class="m">3</span>.10.0-1160.24.1.el7.x86_64 <span class="c1">#1 SMP Thu Mar 25 21:21:56 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux</span>
</code></pre></div>
<p>Alternatively, <code>srun</code> can also run MPI, OpenMP, hybrid MPI/OpenMP, and many more parallel jobs. For more details on using <code>srun</code>, please see the <a href="https://slurm.schedmd.com/srun.html">official documentation</a>.</p>
<!-- markdownlint-disable MD046 -->
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><code>srun</code> has been disabled for use with MPI. We have removed this functionality due to an open vulnerability: <a href="https://nvd.nist.gov/vuln/detail/CVE-2023-41915">https://nvd.nist.gov/vuln/detail/CVE-2023-41915</a>. The vulnerability could allow an attacker to escalate privileges to root and/or access data they do not have permissions for.</p>
<p>Instead of <code>srun</code>, please load one of the <code>OpenMPI</code> modules with an appropriate version. Please contact <a href="../../../help/support/">Support</a> with any questions or concerns.</p>
</div>
<!-- markdownlint-enable MD046 -->

<h2 id="graphical-interactive-jobs">Graphical Interactive Jobs<a class="headerlink" href="#graphical-interactive-jobs" title="Permanent link">&para;</a></h2>
<p>It is highly recommended to use the <a href="../../open_ondemand/ood_main/">Open OnDemand</a> web portal for <a href="../../open_ondemand/ood_interactive/">interactive apps</a>. Interactive sessions for certain software such as MATLAB and RStudio can be created directly from the browser while an HPC Desktop is available to access all of the other software on Cheaha. A terminal is also available through Open OnDemand.</p>
<p>It is possible to use other remote desktop software, such as VNC, to start and interact with jobs. These methods are not officially supported and we do not have the capacity to help with remote desktop connections. Instead, please consider switching your workflow to use the <a href="../../open_ondemand/ood_interactive/#my-interactive-sessions">Open OnDemand HPC Desktop</a>. If you are unable to use this method, please contact <a href="../../../help/support/">Support</a>.</p>
<h2 id="estimating-compute-resources">Estimating Compute Resources<a class="headerlink" href="#estimating-compute-resources" title="Permanent link">&para;</a></h2>
<p>Being able to estimate how many resources a job will need is critical. Requesting many more resources than necessary bottlenecks the cluster by reserving unused resources for an inefficient job preventing other jobs from using them. However, requesting too few resources will slow down the job or cause it to error.</p>
<p>Questions to ask yourself when requesting job resources:</p>
<ol>
<li>Can my scripts take advantage of multiple CPUs?<ol>
<li>For instance, RStudio generally works on a single thread. Requesting more than 1 CPU here would not improve performance.</li>
</ol>
</li>
<li>How large is the data I'm working with?</li>
<li>Do my pipelines keep large amounts of data in memory?</li>
<li>How long should my job take?<ol>
<li>For example, do not request 50 hours time for a 15 hour process. Have a reasonable buffer included to account for unexpected processing delays, but do not request the maximum time on a partition if that's unnecessary.</li>
</ol>
</li>
</ol>
<!-- markdownlint-disable MD046 -->
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Reasonable overestimation of resources is better than underestimation. However, gross overestimation may cause admins to contact you about adjusting resources for future jobs.</p>
</div>
<!-- markdownlint-enable MD046 -->

<p>To get the most out of your Cheaha experience and ensure your jobs get through the queue as fast as possible, please read about <a href="../../job_efficiency/">Job Efficiency</a>.</p>
<h2 id="faster-queuing-with-job-efficiency">Faster Queuing with Job Efficiency<a class="headerlink" href="#faster-queuing-with-job-efficiency" title="Permanent link">&para;</a></h2>
<p>Please see our page on <a href="../../job_efficiency/">Job Efficiency</a> for more information on making the best use of cluster resources to minimize your queue wait times.</p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">September 29, 2023</span>
      
    
  </small>
</div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../introduction/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Introduction" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Introduction
            </div>
          </div>
        </a>
      
      
        
        <a href="../practical_sbatch/" class="md-footer__link md-footer__link--next" aria-label="Next: Practical Batch Array Jobs" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Practical Batch Array Jobs
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2021-2022 The University of Alabama at Birmingham.<br /><b>Still stuck after reading?</b> Email us at <a href="mailto:support@listserv.uab.edu" class="supportemail">support@listserv.uab.edu</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.indexes", "navigation.instant"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.22074ed6.min.js"}</script>
    
    

      <script src="../../../assets/javascripts/bundle.1514a9a0.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
<script>
  var elements = document.getElementsByClassName("lightgallery");
  for (var i = 0; i < elements.length; i++) {
    lightGallery(elements[i]);
  }
</script>

  </body>
</html>